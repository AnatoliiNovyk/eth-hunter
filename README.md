# Chain-Reaper

**Chain-Reaper** — це високопродуктивний асинхронний інструмент для сканування блокчейнів з метою виявлення криптографічних гаманців, що мають ненульовий баланс. Система розроблена для максимальної ефективності та масштабованості, використовуючи пакетні запити та паралельну обробку.

## Основні можливості

- **Висока продуктивність**: Використовує `asyncio` для паралельної генерації та перевірки тисяч ключів на секунду.
- **Підтримка кількох мереж**: Легко налаштовується для роботи з будь-якими EVM-сумісними блокчейнами (наприклад, Ethereum, Binance Smart Chain, Polygon).
- **Пакетні RPC-запити**: Значно зменшує навантаження на RPC-ендпоінти та мережу, надсилаючи адреси пакетами.
- **Перевірка нативних та ERC-20 токенів**: Шукає як основну валюту блокчейну, так і попередньо налаштовані токени стандарту ERC-20.
- **Зберігання результатів**: Зберігає всі знайдені гаманці в локальну базу даних SQLite для подальшого аналізу.
- **Шифрування ключів**: Приватні ключі знайдених гаманців шифруються перед збереженням у базу даних для підвищення безпеки.
- **Веб-інтерфейс для моніторингу**: Надає інформаційну панель у реальному часі для відстеження статистики сканування та перегляду знайдених гаманців.
- **Сповіщення в Telegram**: Миттєво надсилає повідомлення, коли знайдено гаманець із балансом.
- **Інтерактивна консоль**: Дозволяє керувати процесом сканування (`pause`, `resume`, `stats`) без перезапуску скрипту.

## Як це працює

1.  **Генерація**: Скрипт безперервно генерує випадкові приватні ключі.
2.  **Пакетна обробка**: Ключі та відповідні їм адреси збираються в пакети.
3.  **Перевірка балансу**: Система надсилає один RPC-запит для перевірки балансів усіх адрес у пакеті.
4.  **Поглиблений аналіз**: Якщо нативний баланс адреси більший за нуль, система додатково перевіряє баланси вказаних у конфігурації токенів.
5.  **Збереження та сповіщення**: Якщо знайдено баланс, приватний ключ шифрується, вся інформація про гаманець зберігається в базу даних `reaper_found_wallets.db`, і надсилається сповіщення в Telegram.

## Встановлення та налаштування

### 1. Клонування репозиторію

```bash
git clone <URL-репозиторію>
cd <назва-папки>
```
### 2. Встановлення залежностей
Скрипт використовує бібліотеки, перелічені в `requirements.txt`. Встановіть їх за допомогою `pip`.

    pip install -r requirements.txt

### 3. Конфігурація
Створіть файл `.env` у кореневій директорії проєкту та додайте до нього наступні змінні:

    # Ключ для шифрування приватних ключів у базі даних (32 байти)
    # Можна згенерувати за допомогою utils.py (див. нижче)
    ENCRYPTION_KEY=your_secret_encryption_key_here
    
    # Дані для сповіщень в Telegram (необов'язково)
    TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
    TELEGRAM_CHAT_ID=your_telegram_chat_id_here
    
    # API-ключі для аналізу транзакцій (необов'язково)
    ETHERSCAN_API_KEY=your_etherscan_api_key
    BSCSCAN_API_KEY=your_bscscan_api_key
    POLYGONSCAN_API_KEY=your_polygonscan_api_key

Для генерації безпечного `ENCRYPTION_KEY` виконайте:

    python -c "from src.utils import generate_key; print(generate_key())"

Далі, налаштуйте файл `config.json`. Додайте або змініть **RPC-ендпоінти** та адреси токенів для бажаних блокчейнів.

    {
      "networks": [
        {
          "name": "Ethereum",
          "rpc_url": "[https://eth.llamarpc.com](https://eth.llamarpc.com)",
          "chain_id": 1,
          "tokens_to_check": [
            "0xdAC17F958D2ee523a2206206994597C13D831ec7"
          ],
          "analysis_api": "etherscan"
        }
      ],
      "batch_size": 50,
      "num_workers": 4
    }

## Використання
### Запустіть головний скрипт:
    python main.py

**Після запуску ви можете використовувати наступні команди в консолі:**
- `stats`:      показати поточну статистику (швидкість, перевірено ключів, знайдено).
- `pause`:    призупинити роботу всіх воркерів.
- `resume`:  відновити роботу.
- `exit`:        зупинити програму.

**Веб-інтерфейс буде доступний за адресою http://127.0.0.1:8080.**

### Відмова від відповідальності
*Цей інструмент створено в освітніх та дослідницьких цілях. Розробник не несе відповідальності за будь-яке неналежне використання цього програмного забезпечення. Використання цього інструменту може порушувати умови надання послуг деяких **RPC-провайдерів**. Використовуйте на свій страх і ризик.*

### Структура проекту

    Chain-Reaper/
    ├── src/
    │   ├── __init__.py
    │   ├── analysis.py     # (Новий) Аналіз гаманців через Etherscan
    │   ├── core.py         # Повністю перероблений
    │   ├── db.py           # Оновлений для підтримки мереж
    │   ├── models.py       # Оновлений
    │   ├── notifier.py     # Без змін
    │   ├── server.py       # Повністю перероблений
    │   └── utils.py        # Без змін
    ├── .env                # Оновлений
    ├── config.json         # (Новий) Конфігурація мереж
    ├── main.py             # Повністю перероблений
    └── requirements.txt    # Оновлений